<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{ title }}</title>
<!-- Load Tailwind CSS -->
<script src="https://www.google.com/search?q=https://cdn.tailwindcss.com"></script>
<style>
/* Apply Inter font */
body { font-family: 'Inter', sans-serif; }
</style>
</head>
<body class="bg-gray-50 min-h-screen p-4 md:p-8">
<div class="max-w-7xl mx-auto">
    <!-- Header and Status Bar -->
    <header class="mb-8 border-b pb-4 flex justify-between items-center flex-wrap">
        <h1 class="text-3xl font-bold text-gray-900 flex items-center">
            <span class="text-indigo-600 mr-2">NEXUS</span> | System Overview
        </h1>
        <div class="text-right mt-2 md:mt-0">
            <span class="text-sm font-semibold p-2 rounded-full 
                {% if metrics.health_status == 'Operational' %}bg-green-100 text-green-700{% else %}bg-red-100 text-red-700{% endif %}">
                Status: {{ metrics.health_status }} {{ metrics.status_icon }}
            </span>
            <p class="text-xs text-gray-500 mt-1">Last Updated: {{ current_time }}</p>
        </div>
    </header>

    <!-- Main Metrics Grid -->
    <main class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-10">

        <!-- Card 1: Total Users -->
        <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-indigo-500 hover:shadow-xl transition duration-300">
            <p class="text-sm font-medium text-gray-500">Total Users</p>
            <p class="text-4xl font-extrabold text-gray-900 mt-2">{{ metrics.total_users }}</p>
            <span class="text-xs text-green-500">+1.2% since yesterday</span>
        </div>

        <!-- Card 2: Active Sessions -->
        <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-yellow-500 hover:shadow-xl transition duration-300">
            <p class="text-sm font-medium text-gray-500">Active Sessions</p>
            <p class="text-4xl font-extrabold text-gray-900 mt-2">{{ metrics.active_sessions }}</p>
            <span class="text-xs text-yellow-500">Peak: 1,500</span>
        </div>

        <!-- Card 3: CPU Load (%) -->
        <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-blue-500 hover:shadow-xl transition duration-300">
            <p class="text-sm font-medium text-gray-500">Avg. CPU Load</p>
            <p class="text-4xl font-extrabold text-gray-900 mt-2">{{ metrics.cpu_load }}<span class="text-xl">%</span></p>
            <span class="text-xs text-blue-500">Below Critical (85%)</span>
        </div>

        <!-- Card 4: Network Latency (ms) -->
        <div class="bg-white rounded-xl shadow-lg p-6 border-t-4 border-red-500 hover:shadow-xl transition duration-300">
            <p class="text-sm font-medium text-gray-500">Network Latency</p>
            <p class="text-4xl font-extrabold text-gray-900 mt-2">{{ metrics.network_latency_ms }}<span class="text-xl">ms</span></p>
            <span class="text-xs text-red-500">High spike detected</span>
        </div>

    </main>

    <!-- Utilization and Alerts Section (Two-Column Layout) -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

        <!-- Left Column: Resource Utilization -->
        <section class="lg:col-span-2 bg-white rounded-xl shadow-2xl p-6">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4">Resource Utilization</h2>

            <!-- Disk Usage Progress Bar (Professional Visualization) -->
            <div class="mb-6">
                <div class="flex justify-between mb-1">
                    <span class="text-base font-medium text-gray-700">Disk Usage ({{ metrics.disk_used_gb | round(1) }} GB / {{ metrics.disk_capacity_gb }} GB)</span>
                    <span class="text-sm font-medium text-gray-700">{{ disk_usage_percent }}%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3.5">
                    <div class="h-3.5 rounded-full 
                        {% if disk_usage_percent > 85 %}bg-red-600{% elif disk_usage_percent > 60 %}bg-yellow-500{% else %}bg-green-600{% endif %}" 
                        style="width: {{ disk_usage_percent }}%">
                    </div>
                </div>
            </div>

            <!-- Memory Usage -->
            <div>
                <div class="flex justify-between mb-1">
                    <span class="text-base font-medium text-gray-700">Memory Utilization</span>
                    <span class="text-sm font-medium text-gray-700">{{ metrics.memory_utilization }}%</span>
                </div>
                <div class="w-full bg-gray-200 rounded-full h-3.5">
                    <div class="bg-purple-600 h-3.5 rounded-full" 
                        style="width: {{ metrics.memory_utilization }}%">
                    </div>
                </div>
            </div>
            
            <button class="mt-8 w-1/2 mx-auto block bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-xl transition duration-300">
                View Detailed Reports
            </button>
        </section>

        <!-- Right Column: Recent Alerts -->
        <section class="lg:col-span-1 bg-white rounded-xl shadow-2xl p-6">
            <h2 class="text-2xl font-semibold text-gray-800 mb-4 border-b pb-2">Recent Alerts</h2>
            <ul class="space-y-4">
                {% for alert in metrics.alerts %}
                <li class="flex items-start p-3 rounded-lg 
                    {% if alert.level == 'Critical' %}bg-red-50 border-l-4 border-red-500{% elif alert.level == 'Warning' %}bg-yellow-50 border-l-4 border-yellow-500{% else %}bg-blue-50 border-l-4 border-blue-500{% endif %}">
                    <span class="mr-3 text-lg font-bold">
                        {% if alert.level == 'Critical' %}üö®{% elif alert.level == 'Warning' %}‚ö†Ô∏è{% else %}‚ÑπÔ∏è{% endif %}
                    </span>
                    <div>
                        <p class="text-sm font-semibold text-gray-800">{{ alert.message }}</p>
                        <p class="text-xs text-gray-500 mt-0.5">{{ alert.level }} | {{ alert.time }}</p>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </section>
    </div>
    
    <!-- Footer -->
    <footer class="mt-10 pt-6 border-t text-center text-sm text-gray-400">
        Nexus System v2.1 | &copy; 2025 All rights reserved.
    </footer>
</div>
</body>
</html>
